<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google AI Models Testing</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Google AI Models Testing</h1>
        
        <!-- API Key Input -->
        <div class="section">
            <h2>API Configuration</h2>
            <div class="input-group">
                <label for="apiKey">Google AI API Key:</label>
                <input type="password" id="apiKey" placeholder="AIzaSyAky0rAzhYL61AZdL7jbXZYsf46TVC_6oM">
                <button onclick="saveApiKey()">Save Key</button>
            </div>
            <p class="info">‚ö†Ô∏è For testing only - never expose API keys in production</p>
        </div>

        <!-- Text Generation Section -->
        <div class="section">
            <h2>Text Generation Testing</h2>
            <div class="input-group">
                <label for="textPrompt">Prompt:</label>
                <textarea id="textPrompt" rows="3" placeholder="Enter your text prompt here...">Explain quantum computing in simple terms</textarea>
            </div>
            
            <div class="button-group">
                <button onclick="testGeminiPro()" class="btn-pro">Test Gemini Pro (Complex Thinking)</button>
                <button onclick="testGeminiFlash()" class="btn-flash">Test Gemini Flash (Quick Response)</button>
                <button onclick="testBothModels()" class="btn-both">Compare Both</button>
            </div>

            <!-- Results Display -->
            <div class="results">
                <div class="result-box" id="proResult">
                    <h3>Gemini Pro Results</h3>
                    <div class="response-time" id="proTime">Response Time: -</div>
                    <div class="response-content" id="proContent">Response will appear here...</div>
                </div>
                
                <div class="result-box" id="flashResult">
                    <h3>Gemini Flash Results</h3>
                    <div class="response-time" id="flashTime">Response Time: -</div>
                    <div class="response-content" id="flashContent">Response will appear here...</div>
                </div>
            </div>
        </div>

        <!-- Image Generation Section -->
        <div class="section">
            <h2>Image Generation Testing (Nano Banana)</h2>
            <div class="input-group">
                <label for="imagePrompt">Image Prompt:</label>
                <textarea id="imagePrompt" rows="3" placeholder="Describe the image you want to generate...">A serene landscape with mountains, a lake, and sunset colors</textarea>
            </div>
            
            <div class="button-group">
                <button onclick="testImageGeneration()" class="btn-image">Generate Image</button>
            </div>

            <!-- Image Results Display -->
            <div class="results">
                <div class="result-box" id="imageResult">
                    <h3>Generated Image</h3>
                    <div class="response-time" id="imageTime">Response Time: -</div>
                    <div class="image-container" id="imageContainer">
                        <p class="placeholder">Generated image will appear here...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Structured Output Section -->
        <div class="section structured-section">
            <h2>Structured Output Testing (Lost World Entities)</h2>
            <p class="info">Generate complete game entities with JSON data + images using TypeScript type schemas</p>
            
            <!-- Item Generation -->
            <div class="entity-subsection">
                <h3>üó°Ô∏è Item Generation</h3>
                <div class="input-group">
                    <label for="itemPrompt">Item Prompt:</label>
                    <input type="text" id="itemPrompt" placeholder="e.g., Create a legendary fire sword">
                </div>
                
                <!-- Context Testing Inputs -->
                <div class="context-inputs">
                    <h4>üìã Manual Context Testing (Optional)</h4>
                    <div class="input-group">
                        <label for="itemGameContext">Game Context (JSON):</label>
                        <textarea id="itemGameContext" rows="3">{"region": "medieval_kingdom_001", "biome": "temperate", "nearbyLocations": ["tavern", "blacksmith"]}</textarea>
                    </div>
                    <div class="input-group">
                        <label for="itemGameRules">Game Rules (JSON):</label>
                        <textarea id="itemGameRules" rows="10">{"artStyle": "pixel art", "theme": "medieval fantasy", "economyMultiplier": 1.5, "categories": {"weapon": {"attributes": {"damage": {"type": "integer", "description": "Damage output", "range": {"min": 1, "max": 100}, "reference": "20=common sword, 40=enchanted weapon, 60=rare weapon, 80=legendary weapon"}, "attackSpeed": {"type": "enum", "description": "Attack speed", "values": ["fast", "normal", "slow"], "reference": "fast=daggers/light weapons, normal=swords/axes, slow=hammers/greatswords"}, "element": {"type": "string", "description": "Elemental type (optional)", "reference": "fire, ice, lightning, dark, holy. Optional - only for enchanted weapons"}}}, "armor": {"attributes": {"defense": {"type": "integer", "description": "Defense value", "range": {"min": 1, "max": 100}, "reference": "20=light armor, 50=medium armor, 70=heavy armor"}, "weight": {"type": "integer", "description": "Weight", "range": {"min": 1, "max": 20}, "reference": "5=light, 10=medium, 15=heavy"}}}, "consumable": {"attributes": {"effect": {"type": "string", "description": "What it does", "reference": "heal, buff strength, restore mana, cure poison"}, "potency": {"type": "integer", "description": "Strength", "range": {"min": 1, "max": 100}, "reference": "25=minor, 50=moderate, 75=major, 100=ultimate"}}}, "common": {"attributes": {"value": {"type": "integer", "description": "Gold value", "range": {"min": 1, "max": 10000}, "reference": "Affected by rarity and economy multiplier"}, "durability": {"type": "integer", "description": "Item durability", "range": {"min": 0, "max": 100}, "reference": "50=average, 75=durable, 90=very durable, 100=indestructible"}}}}}</textarea>
                    </div>
                </div>
                
                <button onclick="testItemGeneration()" class="btn-item">Generate Item</button>
                <div id="itemResult" class="entity-result-box" style="display: none;"></div>
            </div>

            <!-- NPC Generation -->
            <div class="entity-subsection">
                <h3>üë§ NPC Generation</h3>
                <div class="input-group">
                    <label for="npcPrompt">NPC Prompt:</label>
                    <input type="text" id="npcPrompt" placeholder="e.g., Create a wise old merchant NPC">
                </div>
                
                <!-- Context Testing Inputs -->
                <div class="context-inputs">
                    <h4>üìã Manual Context Testing (Optional)</h4>
                    <div class="input-group">
                        <label for="npcGameContext">Game Context (JSON):</label>
                        <textarea id="npcGameContext" rows="3">{"region": "medieval_kingdom_001", "nearbyNPCs": ["castle_guard", "merchant"]}</textarea>
                    </div>
                    <div class="input-group">
                        <label for="npcGameRules">Game Rules (JSON):</label>
                        <textarea id="npcGameRules" rows="10">{"artStyle": "anime portrait", "theme": "medieval fantasy", "categories": {"merchant": {"attributes": {"tradingSkill": {"type": "integer", "description": "Trading ability", "range": {"min": 1, "max": 100}, "reference": "30=novice trader, 60=experienced merchant, 90=master trader"}, "priceModifier": {"type": "number", "description": "Price multiplier", "range": {"min": 0.5, "max": 2.0}, "reference": "0.8=discount merchant, 1.0=fair prices, 1.5=expensive"}, "inventory": {"type": "array", "description": "Items for sale", "reference": "['weapons', 'potions'] or specific item IDs"}}}, "guard": {"attributes": {"alertness": {"type": "integer", "description": "Awareness level", "range": {"min": 1, "max": 100}, "reference": "30=sleepy guard, 60=alert guard, 90=elite guard"}, "patrolRoute": {"type": "string", "description": "Area they patrol", "reference": "castle walls, town square, main gate"}}}, "common": {"attributes": {"hostile": {"type": "boolean", "description": "Is aggressive?", "reference": "false=friendly/neutral, true=aggressive/enemy"}, "faction": {"type": "string", "description": "Group affiliation", "reference": "castle, merchants_guild, rebels, neutral"}, "level": {"type": "integer", "description": "Power level", "range": {"min": 1, "max": 50}, "reference": "5=weak NPC, 15=average, 30=strong, 45=boss-level"}, "greeting": {"type": "string", "description": "First meeting dialogue", "reference": "Should match NPC personality and faction"}}}}}</textarea>
                    </div>
                </div>
                
                <button onclick="testNPCGeneration()" class="btn-npc">Generate NPC</button>
                <div id="npcResult" class="entity-result-box" style="display: none;"></div>
            </div>

            <!-- Location Generation -->
            <div class="entity-subsection">
                <h3>üè∞ Location Generation</h3>
                <div class="input-group">
                    <label for="locationPrompt">Location Prompt:</label>
                    <input type="text" id="locationPrompt" placeholder="e.g., Create a mystical forest location">
                </div>
                
                <!-- Context Testing Inputs -->
                <div class="context-inputs">
                    <h4>üìã Manual Context Testing (Optional)</h4>
                    <div class="input-group">
                        <label for="locationGameContext">Game Context (JSON):</label>
                        <textarea id="locationGameContext" rows="3">{"region": "medieval_kingdom_001", "biome": "temperate", "nearbyLocations": ["castle", "village"]}</textarea>
                    </div>
                    <div class="input-group">
                        <label for="locationGameRules">Game Rules (JSON):</label>
                        <textarea id="locationGameRules" rows="10">{"artStyle": "landscape painting", "theme": "medieval fantasy", "categories": {"wilderness": {"attributes": {"dangerLevel": {"type": "integer", "description": "Danger level", "range": {"min": 1, "max": 10}, "reference": "2=safe forest, 5=moderate danger, 8=very dangerous, 10=deadly"}, "encounters": {"type": "array", "description": "Creatures found here", "reference": "wolves, goblins, bears, bandits, trolls"}, "resources": {"type": "array", "description": "Harvestable resources", "reference": "herbs, wood, berries, mushrooms"}}}, "town": {"attributes": {"population": {"type": "integer", "description": "Number of residents", "range": {"min": 10, "max": 10000}, "reference": "50=hamlet, 500=village, 2000=town, 5000=city"}, "hasMarket": {"type": "boolean", "description": "Has marketplace?", "reference": "false=small settlement, true=trading hub"}, "guards": {"type": "integer", "description": "Number of guards", "reference": "0=undefended, 5=small guard, 20=well-defended, 50=fortress"}}}, "common": {"attributes": {"safe": {"type": "boolean", "description": "Is it safe?", "reference": "true=no immediate danger, false=dangerous area"}, "canRest": {"type": "boolean", "description": "Can player rest?", "reference": "true=inn/campsite, false=hostile area"}, "accessLevel": {"type": "integer", "description": "Required player level", "range": {"min": 1, "max": 10}, "reference": "1=starter area, 5=mid-game, 10=end-game"}}}}}</textarea>
                    </div>
                </div>
                
                <button onclick="testLocationGeneration()" class="btn-location">Generate Location</button>
                <div id="locationResult" class="entity-result-box" style="display: none;"></div>
            </div>
        </div>

        <!-- Loading Indicator -->
        <div id="loadingIndicator" class="loading hidden">
            <div class="spinner"></div>
            <p>Processing request...</p>
        </div>
    </div>

    <script src="test-text.js"></script>
    <script src="test-image.js"></script>
    <script src="test-structured.js"></script>
    <script>
        // Auto-set API key
        let API_KEY = 'AIzaSyAky0rAzhYL61AZdL7jbXZYsf46TVC_6oM';

        // Auto-fill and save on page load
        window.addEventListener('DOMContentLoaded', () => {
            const keyInput = document.getElementById('apiKey');
            keyInput.value = API_KEY;
            keyInput.type = 'password';
            console.log('API Key auto-loaded and ready!');
        });

        function saveApiKey() {
            const keyInput = document.getElementById('apiKey');
            API_KEY = keyInput.value.trim();
            if (API_KEY) {
                alert('API Key saved successfully!');
                keyInput.type = 'password';
            } else {
                alert('Please enter a valid API key');
            }
        }

        function showLoading() {
            document.getElementById('loadingIndicator').classList.remove('hidden');
        }

        function hideLoading() {
            document.getElementById('loadingIndicator').classList.add('hidden');
        }
    </script>
</body>
</html>

